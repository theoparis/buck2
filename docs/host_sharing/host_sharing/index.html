<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `host_sharing` mod in crate `host_sharing`."><title>host_sharing::host_sharing - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-069232aa.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="host_sharing" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-nightly (2fd855fbf 2025-08-07)" data-channel="nightly" data-search-js="search-fa3e91e5.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-68b7e25d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-eebb9057.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../host_sharing/index.html">host_<wbr>sharing</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module host_<wbr>sharing</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate host_<wbr>sharing</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">host_sharing</a></div><h1>Module <span>host_sharing</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/host_sharing/host_sharing.rs.html#11-305">Source</a> </span></div><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.HostSharingBroker.html" title="struct host_sharing::host_sharing::HostSharingBroker">Host<wbr>Sharing<wbr>Broker</a></dt><dd>Used to ensure that host resources are properly reserved before executing a command spec.</dd><dt><a class="struct" href="struct.HostSharingGuard.html" title="struct host_sharing::host_sharing::HostSharingGuard">Host<wbr>Sharing<wbr>Guard</a></dt><dd>A guard for all permits and resources acquired for a HostSharingBroker.acquire request.
Keeps the data structures received from semaphores after acquiring.
Semaphores are held until this struct is dropped.</dd><dt><a class="struct" href="struct.RequestedPermits.html" title="struct host_sharing::host_sharing::RequestedPermits">Requested<wbr>Permits</a></dt><dt><a class="struct" href="struct.WeightPercentage.html" title="struct host_sharing::host_sharing::WeightPercentage">Weight<wbr>Percentage</a></dt></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.HostSharingRequirements.html" title="enum host_sharing::host_sharing::HostSharingRequirements">Host<wbr>Sharing<wbr>Requirements</a></dt><dd>Some commands require that we only run one instance of this binary (using an identifier)
to check for other instances of the same binary.
Some commands required the full host to run, others just dont care.
This enum encapsulates all the different scenarios.</dd><dt><a class="enum" href="enum.HostSharingStrategy.html" title="enum host_sharing::host_sharing::HostSharingStrategy">Host<wbr>Sharing<wbr>Strategy</a></dt><dd>Determines whether a fair or unfair semaphore is used to manage host sharing</dd><dt><a class="enum" href="enum.WeightClass.html" title="enum host_sharing::host_sharing::WeightClass">Weight<wbr>Class</a></dt><dd>This class is intended to represent the resources required by each test. This is then used to
map onto resources available on the machine where the tests are run on in order to not saturate the
machine and adversely impact testrunning performance and reliability.
Testpilot Classic uses the concept of machine cores to manage resources. Testpilot has two types of
tests: Normal (1 core) and Heavy (4 cores) where this would run on a machine with typically 24 cores
(managed through a semaphore with size 24). Since Testpilot was introduced we have moved to run
on Sandcastle machines with 56 cores so we want to move away from the core-analogy and instead use
the term “permits” to describe the limited resources available on each machine.
More long term we want improve this to also take into account memory usage, cpu usage etc.</dd></dl></section></div></main></body></html>